<!DOCTYPE html>
<html lang="es">
<head>
    <%- include('../partials/head.ejs',{'datos':datos.activar}) %>
    <title>Formulario de Registro</title>
</head>
<body>
    <%- include('../partials/navbar.ejs') %>

    <main>
        <p class="iniciar-sesion-login">Registrate</p>
        <div class="user-icon">
            <i class="fa-solid fa-plus userline"></i>
        </div>

        <section class="login-box">
            <!-- Cambiar el enctype para subir archivos -->
            <form action="/users/register" method="POST" class="form-login" id="form-register" enctype="multipart/form-data">
                <div>
                    <label class="description-login" for="nombre">Nombre:<span class="span-login-red">*</span></label>
                    <input class="input-login" type="text" id="firstName" name="firstName" placeholder="Ingrese su nombre"
                           value="<%= locals.oldData ? oldData.firstName : null %>" autofocus minlength="4">
                    <div class="error-message" id="errNombre">
                        <% if (locals.errors && errors.firstName) { %>
                            <%= errors.firstName.msg %>
                        <% } %>
                    </div>
                </div>

                <div>
                    <label class="description-login" for="apellido">Apellido:<span class="span-login-red">*</span></label>
                    <input class="input-login" type="text" id="apellido" name="lastName" placeholder="Ingrese su apellido"
                           value="<%= locals.oldData ? oldData.lastName : null %>" minlength="4">
                    <div class="error-message" id="errApellido">
                        <% if (locals.errors && errors.lastName) { %>
                            <%= errors.lastName.msg %>
                        <% } %>
                    </div>
                </div>

                <div>
                    <label class="description-login" for="email">Email:<span class="span-login-red">*</span></label>
                    <input class="input-login" type="text" id="email" name="email" placeholder="user@example.com"
                           value="<%= locals.oldData ? oldData.email : null %>">
                    <div class="error-message" id="errEmail">
                        <% if (locals.errors && errors.email) { %>
                            <%= errors.email.msg %>
                        <% } %>
                    </div>
                </div>

                <div>
                    <label class="description-login" for="telefono">Teléfono:<span class="span-login-red">*</span></label>
                    <input class="input-login" type="tel" id="telefono" name="phone" placeholder="Ingrese su telefono"
                           value="<%= locals.oldData ? oldData.phone : null %>">
                    <div class="error-message" id="errPhone">
                        <% if (locals.errors && errors.phone) { %>
                            <%= errors.phone.msg %>
                        <% } %>
                    </div>
                </div>

                <div>
                    <label class="description-login" for="contrasenia">Contraseña:<span class="span-login-red">*</span></label>
                    <input class="input-login" type="password" id="contrasenia" name="password" placeholder="Ingrese su contraseña" minlength="8">
                    <div class="error-message" id="errPassword">
                        <% if (locals.errors && errors.password) { %>
                            <%= errors.password.msg %>
                        <% } %>
                    </div>
                </div>

                <!-- Nuevo campo para subir la imagen -->
                <div>
                    <label class="description-login" for="imagen">Imagen de perfil (JPG, JPEG, PNG, GIF):</label>
                    <input class="input-login" type="file" id="imagen" name="avatar">
                    <div class="error-message" id="errPassword">
                        <% if (locals.errors && errors.avatar) { %>
                            <%= errors.avatar.msg %>
                        <% } %>
                    </div>
                </div>

                <input class="checkbox-login" type="checkbox" id="terminos" name="terminos" value="true" required>
                <label class="recuerdame-top" for="terminos">Acepto términos y condiciones para ser miembro.</label>
                <a class="register__form-a" href="#">Términos y condiciones.</a>

                <button class="submit-login" type="submit">Registrarse</button>
                <p>¿Ya tienes una cuenta? <a href="/users/login" class="register__form-a">Inicia Sesión</a></p>
            </form>
        </section>
    </main>

    <%- include('../partials/footer.ejs') %>
    <script src="/js/validationRegister.js" defer></script>
</body>
</html>
